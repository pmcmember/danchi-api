{"openapi":"3.0.1","info":{"description":"DANCHiサイト用のWebAPI","version":"1.0.0","title":"${self:custom.apigateway.name}","license":{"name":"Apache 2.0","url":"http://www.apache.org/licenses/LICENSE-2.0.html"}},"tags":[{"name":"musics"}],"x-amazon-apigateway-request-validators":{"basic":{"validateRequestBody":true,"validateRequestParameters":true},"params-only":{"validateRequestBody":false,"validateRequestParameters":true},"body-only":{"validateRequestBody":true,"validateRequestParameters":false}},"paths":{"/v1/musics":{"get":{"summary":"曲一覧の取得","description":"MicroCMSに登録されている曲一覧の取得","tags":["musics"],"security":[{"lambdaAuthorizer":[]},{"apiKey":[]}],"x-amazon-apigateway-request-validator":"basic","x-amazon-apigateway-integration":{"type":"aws_proxy","credentials":{"Fn::ImportValue":"${self:custom.stacks.common-stack.name}-APIGWStandardRoleArn"},"uri":{"Fn::Join":["/",["arn:aws:apigateway:${self:provider.region}:lambda:path/2015-03-31/functions",{"Fn::GetAtt":"KickRequestToMicroCMSLambdaFunction.Arn"},"invocations"]]},"passthroughBehavior":"when_no_match","httpMethod":"POST","contentHandling":"CONVERT_TO_TEXT"},"parameters":[{"in":"query","name":"limit","description":"取得したい件数の上限を指定する。レスポンスサイズが5MBを超えるとエラーが発生する。","required":false,"schema":{"type":"integer"}},{"in":"query","name":"offset","description":"何件目から取得するかを指定する。","required":false,"schema":{"type":"integer"}},{"in":"query","name":"orders","description":"指標となるデータを指定し、それをもとに要素の並び替えを行う。デフォルトで昇順、プレフィックスに「-」をつけることで降順となる。\n参考 : https://document.microcms.io/content-api/get-list-contents#hf1af2f632c","required":false,"schema":{"type":"string"}},{"in":"query","name":"fields","description":"コンテンツの中で取得したい要素を指定する。複数指定したい場合はカンマ区切りで指定する。","required":false,"schema":{"type":"string"}},{"in":"query","name":"ids","description":"取得したいコンテンツのIDを指定する。複数指定したい場合はカンマ区切りで指定する。","required":false,"schema":{"type":"string"}},{"in":"query","name":"filters","description":"取得したいデータの条件を指定する。\n参考 : https://document.microcms.io/content-api/get-list-contents#hdebbdc8e86","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"成功時のレスポンス","headers":{"Access-Control-Allow-Origin":{"schema":{"type":"string"}},"Access-Control-Allow-Methods":{"schema":{"type":"string"}},"Access-Control-Allow-Headers":{"schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$schema":"http://json-schema.org/draft-07/schema#","definitions":{"MicroCMSContentId":{"description":"microCMS contentId\nhttps://document.microcms.io/manual/content-id-setting","properties":{"id":{"type":"string"}},"required":["id"],"type":"object"},"MicroCMSDate":{"description":"microCMS content common date","properties":{"createdAt":{"type":"string"},"publishedAt":{"type":"string"},"revisedAt":{"type":"string"},"updatedAt":{"type":"string"}},"required":["createdAt","publishedAt","revisedAt","updatedAt"],"type":"object"}},"description":"microCMS list api Response","properties":{"contents":{"items":{"allOf":[{"description":"musics APIのスキーマ","properties":{"rawIframe":{"type":"string"},"scApiUrl":{"type":"string"},"scArtistHref":{"type":"string"},"scArtistName":{"type":"string"},"scSongDescription":{"type":"string"},"scSongHref":{"type":"string"},"scSongTitle":{"type":"string"},"scSrc":{"type":"string"},"scThumbnailSrc":{"type":"string"},"songCategories":{"items":{"properties":{"fieldId":{"enum":["songCategory"],"type":"string"},"songCategory":{"type":"string"}},"required":["fieldId","songCategory"],"type":"object"},"type":"array"}},"required":["rawIframe"],"type":"object"},{"description":"microCMS contentId\nhttps://document.microcms.io/manual/content-id-setting","properties":{"id":{"type":"string"}},"required":["id"],"type":"object"},{"description":"microCMS content common date","properties":{"createdAt":{"type":"string"},"publishedAt":{"type":"string"},"revisedAt":{"type":"string"},"updatedAt":{"type":"string"}},"required":["createdAt","publishedAt","revisedAt","updatedAt"],"type":"object"}]},"type":"array"},"limit":{"type":"number"},"offset":{"type":"number"},"totalCount":{"type":"number"}},"required":["contents","limit","offset","totalCount"],"type":"object"}}}},"500":{"description":"サーバ異常終了時のレスポンス","content":{"application/json":{"schema":{"$schema":"http://json-schema.org/draft-07/schema#","properties":{"message":{"type":"string"}},"required":["message"],"type":"object"}}}}}},"options":{"summary":"APIGateway上のCORS用設定","description":"APIGateway上のCORS用設定","tags":["musics"],"responses":{"200":{"description":"200 response","headers":{"Access-Control-Allow-Origin":{"schema":{"type":"string"}},"Access-Control-Allow-Methods":{"schema":{"type":"string"}},"Access-Control-Allow-Headers":{"schema":{"type":"string"}}},"content":{}}},"x-amazon-apigateway-integration":{"responses":{"default":{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET'","method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,X-Custom-Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'","method.response.header.Access-Control-Allow-Origin":"'${file(${self:custom.paths.envFile}):export.ALLOW_ORIGIN}'"},"responseTemplates":{"application/json":""}}},"requestTemplates":{"application/json":"{statusCode:200}"},"passthroughBehavior":"when_no_match","contentHandling":"CONVERT_TO_TEXT","type":"mock"}}},"/v1/musics/detail/{id}":{"get":{"summary":"曲の取得","description":"MicroCMSに登録されている曲の取得","tags":["musics"],"security":[{"lambdaAuthorizer":[]},{"apiKey":[]}],"x-amazon-apigateway-request-validator":"basic","x-amazon-apigateway-integration":{"type":"aws_proxy","credentials":{"Fn::ImportValue":"${self:custom.stacks.common-stack.name}-APIGWStandardRoleArn"},"uri":{"Fn::Join":["/",["arn:aws:apigateway:${self:provider.region}:lambda:path/2015-03-31/functions",{"Fn::GetAtt":"KickRequestToMicroCMSLambdaFunction.Arn"},"invocations"]]},"passthroughBehavior":"when_no_match","httpMethod":"POST","contentHandling":"CONVERT_TO_TEXT"},"parameters":[{"in":"path","name":"id","description":"BlogのIDを指定","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"成功時のレスポンス","headers":{"Access-Control-Allow-Origin":{"schema":{"type":"string"}},"Access-Control-Allow-Methods":{"schema":{"type":"string"}},"Access-Control-Allow-Headers":{"schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$schema":"http://json-schema.org/draft-07/schema#","allOf":[{"description":"musics APIのスキーマ","properties":{"rawIframe":{"type":"string"},"scApiUrl":{"type":"string"},"scArtistHref":{"type":"string"},"scArtistName":{"type":"string"},"scSongDescription":{"type":"string"},"scSongHref":{"type":"string"},"scSongTitle":{"type":"string"},"scSrc":{"type":"string"},"scThumbnailSrc":{"type":"string"},"songCategories":{"items":{"properties":{"fieldId":{"enum":["songCategory"],"type":"string"},"songCategory":{"type":"string"}},"required":["fieldId","songCategory"],"type":"object"},"type":"array"}},"required":["rawIframe"],"type":"object"},{"description":"microCMS content common date","properties":{"createdAt":{"type":"string"},"publishedAt":{"type":"string"},"revisedAt":{"type":"string"},"updatedAt":{"type":"string"}},"required":["createdAt","publishedAt","revisedAt","updatedAt"],"type":"object"}],"definitions":{"MicroCMSDate":{"description":"microCMS content common date","properties":{"createdAt":{"type":"string"},"publishedAt":{"type":"string"},"revisedAt":{"type":"string"},"updatedAt":{"type":"string"}},"required":["createdAt","publishedAt","revisedAt","updatedAt"],"type":"object"}}}}}},"500":{"description":"サーバ異常終了時のレスポンス","content":{"application/json":{"schema":{"$schema":"http://json-schema.org/draft-07/schema#","properties":{"message":{"type":"string"}},"required":["message"],"type":"object"}}}}}},"options":{"summary":"APIGateway上のCORS用設定","description":"APIGateway上のCORS用設定","tags":["musics"],"responses":{"200":{"description":"200 response","headers":{"Access-Control-Allow-Origin":{"schema":{"type":"string"}},"Access-Control-Allow-Methods":{"schema":{"type":"string"}},"Access-Control-Allow-Headers":{"schema":{"type":"string"}}},"content":{}}},"x-amazon-apigateway-integration":{"responses":{"default":{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET'","method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,X-Custom-Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'","method.response.header.Access-Control-Allow-Origin":"'${file(${self:custom.paths.envFile}):export.ALLOW_ORIGIN}'"},"responseTemplates":{"application/json":""}}},"requestTemplates":{"application/json":"{statusCode:200}"},"passthroughBehavior":"when_no_match","contentHandling":"CONVERT_TO_TEXT","type":"mock"}}},"/v1/musics/song-categories":{"get":{"summary":"曲カテゴリ一覧の取得","description":"曲カテゴリ一覧の取得を行う。","tags":["musics"],"security":[{"lambdaAuthorizer":[]},{"apiKey":[]}],"x-amazon-apigateway-request-validator":"basic","x-amazon-apigateway-integration":{"type":"aws_proxy","credentials":{"Fn::ImportValue":"${self:custom.stacks.common-stack.name}-APIGWStandardRoleArn"},"uri":{"Fn::Join":["/",["arn:aws:apigateway:${self:provider.region}:lambda:path/2015-03-31/functions",{"Fn::GetAtt":"SongCategoriesLambdaFunction.Arn"},"invocations"]]},"passthroughBehavior":"when_no_match","httpMethod":"POST","contentHandling":"CONVERT_TO_TEXT"},"responses":{"200":{"description":"成功時のレスポンス","headers":{"Access-Control-Allow-Origin":{"schema":{"type":"string"}},"Access-Control-Allow-Methods":{"schema":{"type":"string"}},"Access-Control-Allow-Headers":{"schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"./components/schemas/MusicsSongCategories.json"}}}},"500":{"description":"サーバ異常終了時のレスポンス","content":{"application/json":{"schema":{"$schema":"http://json-schema.org/draft-07/schema#","properties":{"message":{"type":"string"}},"required":["message"],"type":"object"}}}}}},"post":{"summary":"曲カテゴリの追加","description":"曲カテゴリの追加を行う。","tags":["musics"],"security":[{"lambdaAuthorizer":[]},{"apiKey":[]}],"x-amazon-apigateway-request-validator":"basic","x-amazon-apigateway-integration":{"type":"aws_proxy","credentials":{"Fn::ImportValue":"${self:custom.stacks.common-stack.name}-APIGWStandardRoleArn"},"uri":{"Fn::Join":["/",["arn:aws:apigateway:${self:provider.region}:lambda:path/2015-03-31/functions",{"Fn::GetAtt":"SongCategoriesLambdaFunction.Arn"},"invocations"]]},"passthroughBehavior":"when_no_match","httpMethod":"POST","contentHandling":"CONVERT_TO_TEXT"},"requestBody":{"content":{"application/json":{"schema":{"$ref":"./components/schemas/MusicsSongCategories.json"}}}},"responses":{"200":{"description":"成功時のレスポンス","headers":{"Access-Control-Allow-Origin":{"schema":{"type":"string"}},"Access-Control-Allow-Methods":{"schema":{"type":"string"}},"Access-Control-Allow-Headers":{"schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"./components/schemas/MusicsSongCategories.json"}}}},"500":{"description":"サーバ異常終了時のレスポンス","content":{"application/json":{"schema":{"$schema":"http://json-schema.org/draft-07/schema#","properties":{"message":{"type":"string"}},"required":["message"],"type":"object"}}}}}},"delete":{"summary":"曲カテゴリの削除","description":"曲カテゴリの削除を行う。","tags":["musics"],"security":[{"lambdaAuthorizer":[]},{"apiKey":[]}],"x-amazon-apigateway-request-validator":"basic","x-amazon-apigateway-integration":{"type":"aws_proxy","credentials":{"Fn::ImportValue":"${self:custom.stacks.common-stack.name}-APIGWStandardRoleArn"},"uri":{"Fn::Join":["/",["arn:aws:apigateway:${self:provider.region}:lambda:path/2015-03-31/functions",{"Fn::GetAtt":"SongCategoriesLambdaFunction.Arn"},"invocations"]]},"passthroughBehavior":"when_no_match","httpMethod":"POST","contentHandling":"CONVERT_TO_TEXT"},"parameters":[{"in":"query","name":"name","required":true,"description":"削除するカテゴリの名前を指定する。カンマ区切りで複数指定可能","schema":{"type":"string"},"examples":{"oneId":{"summary":"単一指定例","value":"壮大"},"multipleIds":{"summary":"複数指定例","value":"壮大,かっこいい,癒やし"}}}],"responses":{"200":{"description":"成功時のレスポンス","headers":{"Access-Control-Allow-Origin":{"schema":{"type":"string"}},"Access-Control-Allow-Methods":{"schema":{"type":"string"}},"Access-Control-Allow-Headers":{"schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"./components/schemas/MusicsSongCategories.json"}}}},"500":{"description":"サーバ異常終了時のレスポンス","content":{"application/json":{"schema":{"$schema":"http://json-schema.org/draft-07/schema#","properties":{"message":{"type":"string"}},"required":["message"],"type":"object"}}}}}},"options":{"summary":"APIGateway上のCORS用設定","description":"APIGateway上のCORS用設定","tags":["musics"],"responses":{"200":{"description":"200 response","headers":{"Access-Control-Allow-Origin":{"schema":{"type":"string"}},"Access-Control-Allow-Methods":{"schema":{"type":"string"}},"Access-Control-Allow-Headers":{"schema":{"type":"string"}}},"content":{}}},"x-amazon-apigateway-integration":{"responses":{"default":{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET'","method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,X-Custom-Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'","method.response.header.Access-Control-Allow-Origin":"'${file(${self:custom.paths.envFile}):export.ALLOW_ORIGIN}'"},"responseTemplates":{"application/json":""}}},"requestTemplates":{"application/json":"{statusCode:200}"},"passthroughBehavior":"when_no_match","contentHandling":"CONVERT_TO_TEXT","type":"mock"}}},"/v1/musics/utils/cms-webhook":{"post":{"summary":"MiscroCMSからのwebhookリクエスト受信エンドポイント","description":"MiscroCMSからのwebhookリクエストを受けて、\n１．SoundCloudから取得したiframeから情報を受け取り、受け取った情報をもとにMicroCMSへデータ更新リクエストを飛ばす。\n２．Webhookリクエスト内容に含まれている曲カテゴリ情報を取得し、カテゴリ一覧を更新する。","tags":["musics"],"security":[{"lambdaAuthorizer":[]},{"apiKey":[]}],"x-amazon-apigateway-request-validator":"basic","x-amazon-apigateway-integration":{"type":"aws_proxy","credentials":{"Fn::ImportValue":"${self:custom.stacks.common-stack.name}-APIGWStandardRoleArn"},"uri":{"Fn::Join":["/",["arn:aws:apigateway:${self:provider.region}:lambda:path/2015-03-31/functions",{"Fn::GetAtt":"CmsWebhookLambdaFunction.Arn"},"invocations"]]},"passthroughBehavior":"when_no_match","httpMethod":"POST","contentHandling":"CONVERT_TO_TEXT"},"requestBody":{"content":{"application/json":{"schema":{"$schema":"http://json-schema.org/draft-07/schema#","definitions":{"MicroCMSContentId":{"description":"microCMS contentId\nhttps://document.microcms.io/manual/content-id-setting","properties":{"id":{"type":"string"}},"required":["id"],"type":"object"},"MicroCMSDate":{"description":"microCMS content common date","properties":{"createdAt":{"type":"string"},"publishedAt":{"type":"string"},"revisedAt":{"type":"string"},"updatedAt":{"type":"string"}},"required":["createdAt","publishedAt","revisedAt","updatedAt"],"type":"object"}},"properties":{"api":{"type":"string"},"contents":{"anyOf":[{"properties":{"new":{"anyOf":[{"properties":{"draftKey":{"type":["null","string"]},"draftValue":{"anyOf":[{"allOf":[{"description":"musics APIのスキーマ","properties":{"rawIframe":{"type":"string"},"scApiUrl":{"type":"string"},"scArtistHref":{"type":"string"},"scArtistName":{"type":"string"},"scSongDescription":{"type":"string"},"scSongHref":{"type":"string"},"scSongTitle":{"type":"string"},"scSrc":{"type":"string"},"scThumbnailSrc":{"type":"string"},"songCategories":{"items":{"properties":{"fieldId":{"enum":["songCategory"],"type":"string"},"songCategory":{"type":"string"}},"required":["fieldId","songCategory"],"type":"object"},"type":"array"}},"required":["rawIframe"],"type":"object"},{"description":"microCMS contentId\nhttps://document.microcms.io/manual/content-id-setting","properties":{"id":{"type":"string"}},"required":["id"],"type":"object"},{"description":"microCMS content common date","properties":{"createdAt":{"type":"string"},"publishedAt":{"type":"string"},"revisedAt":{"type":"string"},"updatedAt":{"type":"string"}},"required":["createdAt","publishedAt","revisedAt","updatedAt"],"type":"object"}]},{"type":"null"}]},"id":{"type":"string"},"publishValue":{"anyOf":[{"allOf":[{"description":"musics APIのスキーマ","properties":{"rawIframe":{"type":"string"},"scApiUrl":{"type":"string"},"scArtistHref":{"type":"string"},"scArtistName":{"type":"string"},"scSongDescription":{"type":"string"},"scSongHref":{"type":"string"},"scSongTitle":{"type":"string"},"scSrc":{"type":"string"},"scThumbnailSrc":{"type":"string"},"songCategories":{"items":{"properties":{"fieldId":{"enum":["songCategory"],"type":"string"},"songCategory":{"type":"string"}},"required":["fieldId","songCategory"],"type":"object"},"type":"array"}},"required":["rawIframe"],"type":"object"},{"description":"microCMS contentId\nhttps://document.microcms.io/manual/content-id-setting","properties":{"id":{"type":"string"}},"required":["id"],"type":"object"},{"description":"microCMS content common date","properties":{"createdAt":{"type":"string"},"publishedAt":{"type":"string"},"revisedAt":{"type":"string"},"updatedAt":{"type":"string"}},"required":["createdAt","publishedAt","revisedAt","updatedAt"],"type":"object"}]},{"type":"null"}]},"status":{"items":{"enum":["DRAFT","PUBLISH"],"type":"string"},"type":"array"}},"required":["draftKey","draftValue","id","publishValue","status"],"type":"object"},{"type":"null"}]},"old":{"anyOf":[{"properties":{"draftKey":{"type":["null","string"]},"draftValue":{"anyOf":[{"allOf":[{"description":"musics APIのスキーマ","properties":{"rawIframe":{"type":"string"},"scApiUrl":{"type":"string"},"scArtistHref":{"type":"string"},"scArtistName":{"type":"string"},"scSongDescription":{"type":"string"},"scSongHref":{"type":"string"},"scSongTitle":{"type":"string"},"scSrc":{"type":"string"},"scThumbnailSrc":{"type":"string"},"songCategories":{"items":{"properties":{"fieldId":{"enum":["songCategory"],"type":"string"},"songCategory":{"type":"string"}},"required":["fieldId","songCategory"],"type":"object"},"type":"array"}},"required":["rawIframe"],"type":"object"},{"description":"microCMS contentId\nhttps://document.microcms.io/manual/content-id-setting","properties":{"id":{"type":"string"}},"required":["id"],"type":"object"},{"description":"microCMS content common date","properties":{"createdAt":{"type":"string"},"publishedAt":{"type":"string"},"revisedAt":{"type":"string"},"updatedAt":{"type":"string"}},"required":["createdAt","publishedAt","revisedAt","updatedAt"],"type":"object"}]},{"type":"null"}]},"id":{"type":"string"},"publishValue":{"anyOf":[{"allOf":[{"description":"musics APIのスキーマ","properties":{"rawIframe":{"type":"string"},"scApiUrl":{"type":"string"},"scArtistHref":{"type":"string"},"scArtistName":{"type":"string"},"scSongDescription":{"type":"string"},"scSongHref":{"type":"string"},"scSongTitle":{"type":"string"},"scSrc":{"type":"string"},"scThumbnailSrc":{"type":"string"},"songCategories":{"items":{"properties":{"fieldId":{"enum":["songCategory"],"type":"string"},"songCategory":{"type":"string"}},"required":["fieldId","songCategory"],"type":"object"},"type":"array"}},"required":["rawIframe"],"type":"object"},{"description":"microCMS contentId\nhttps://document.microcms.io/manual/content-id-setting","properties":{"id":{"type":"string"}},"required":["id"],"type":"object"},{"description":"microCMS content common date","properties":{"createdAt":{"type":"string"},"publishedAt":{"type":"string"},"revisedAt":{"type":"string"},"updatedAt":{"type":"string"}},"required":["createdAt","publishedAt","revisedAt","updatedAt"],"type":"object"}]},{"type":"null"}]},"status":{"items":{"enum":["DRAFT","PUBLISH"],"type":"string"},"type":"array"}},"required":["draftKey","draftValue","id","publishValue","status"],"type":"object"},{"type":"null"}]}},"required":["new","old"],"type":"object"},{"type":"null"}]},"id":{"type":["null","string"]},"service":{"type":"string"},"type":{"type":"string"}},"required":["api","contents","id","service","type"],"type":"object"}}}},"responses":{"200":{"description":"成功時のレスポンス","headers":{"Access-Control-Allow-Origin":{"schema":{"type":"string"}},"Access-Control-Allow-Methods":{"schema":{"type":"string"}},"Access-Control-Allow-Headers":{"schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$schema":"http://json-schema.org/draft-07/schema#","properties":{"message":{"type":"string"}},"required":["message"],"type":"object"}}}},"500":{"description":"サーバ異常終了時のレスポンス","content":{"application/json":{"schema":{"$schema":"http://json-schema.org/draft-07/schema#","properties":{"message":{"type":"string"}},"required":["message"],"type":"object"}}}}}},"options":{"summary":"APIGateway上のCORS用設定","description":"APIGateway上のCORS用設定","tags":["musics"],"responses":{"200":{"description":"200 response","headers":{"Access-Control-Allow-Origin":{"schema":{"type":"string"}},"Access-Control-Allow-Methods":{"schema":{"type":"string"}},"Access-Control-Allow-Headers":{"schema":{"type":"string"}}},"content":{}}},"x-amazon-apigateway-integration":{"responses":{"default":{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET'","method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,X-Custom-Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'","method.response.header.Access-Control-Allow-Origin":"'${file(${self:custom.paths.envFile}):export.ALLOW_ORIGIN}'"},"responseTemplates":{"application/json":""}}},"requestTemplates":{"application/json":"{statusCode:200}"},"passthroughBehavior":"when_no_match","contentHandling":"CONVERT_TO_TEXT","type":"mock"}}},"/v1/musics/utils/iframe-converter":{"post":{"summary":"SoundCloudから取得したiframeから情報を抜き出し返す","description":"SoundCloudから取得したiframeから情報を抜き出し返す","tags":["musics"],"security":[{"lambdaAuthorizer":[]},{"apiKey":[]}],"x-amazon-apigateway-request-validator":"basic","x-amazon-apigateway-integration":{"type":"aws_proxy","credentials":{"Fn::ImportValue":"${self:custom.stacks.common-stack.name}-APIGWStandardRoleArn"},"uri":{"Fn::Join":["/",["arn:aws:apigateway:${self:provider.region}:lambda:path/2015-03-31/functions",{"Fn::GetAtt":"IframeConverterLambdaFunction.Arn"},"invocations"]]},"passthroughBehavior":"when_no_match","httpMethod":"POST","contentHandling":"CONVERT_TO_TEXT"},"requestBody":{"content":{"application/json":{"schema":{"$schema":"http://json-schema.org/draft-07/schema#","description":"musics APIのスキーマ","properties":{"rawIframe":{"type":"string"},"scApiUrl":{"type":"string"},"scArtistHref":{"type":"string"},"scArtistName":{"type":"string"},"scSongDescription":{"type":"string"},"scSongHref":{"type":"string"},"scSongTitle":{"type":"string"},"scSrc":{"type":"string"},"scThumbnailSrc":{"type":"string"},"songCategories":{"items":{"properties":{"fieldId":{"enum":["songCategory"],"type":"string"},"songCategory":{"type":"string"}},"required":["fieldId","songCategory"],"type":"object"},"type":"array"}},"required":["rawIframe"],"type":"object"}}}},"responses":{"200":{"description":"成功時のレスポンス","headers":{"Access-Control-Allow-Origin":{"schema":{"type":"string"}},"Access-Control-Allow-Methods":{"schema":{"type":"string"}},"Access-Control-Allow-Headers":{"schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$schema":"http://json-schema.org/draft-07/schema#","description":"musics APIのスキーマ","properties":{"rawIframe":{"type":"string"},"scApiUrl":{"type":"string"},"scArtistHref":{"type":"string"},"scArtistName":{"type":"string"},"scSongDescription":{"type":"string"},"scSongHref":{"type":"string"},"scSongTitle":{"type":"string"},"scSrc":{"type":"string"},"scThumbnailSrc":{"type":"string"},"songCategories":{"items":{"properties":{"fieldId":{"enum":["songCategory"],"type":"string"},"songCategory":{"type":"string"}},"required":["fieldId","songCategory"],"type":"object"},"type":"array"}},"required":["rawIframe"],"type":"object"}}}},"500":{"description":"サーバ異常終了時のレスポンス","content":{"application/json":{"schema":{"$schema":"http://json-schema.org/draft-07/schema#","properties":{"message":{"type":"string"}},"required":["message"],"type":"object"}}}}}},"options":{"summary":"APIGateway上のCORS用設定","description":"APIGateway上のCORS用設定","tags":["musics"],"responses":{"200":{"description":"200 response","headers":{"Access-Control-Allow-Origin":{"schema":{"type":"string"}},"Access-Control-Allow-Methods":{"schema":{"type":"string"}},"Access-Control-Allow-Headers":{"schema":{"type":"string"}}},"content":{}}},"x-amazon-apigateway-integration":{"responses":{"default":{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET'","method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,X-Custom-Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'","method.response.header.Access-Control-Allow-Origin":"'${file(${self:custom.paths.envFile}):export.ALLOW_ORIGIN}'"},"responseTemplates":{"application/json":""}}},"requestTemplates":{"application/json":"{statusCode:200}"},"passthroughBehavior":"when_no_match","contentHandling":"CONVERT_TO_TEXT","type":"mock"}}},"/v1/blogs":{"get":{"summary":"ブログ記事一覧の取得","description":"MicroCMSに登録されているブログ記事一覧の取得","tags":["blogs"],"security":[{"lambdaAuthorizer":[]},{"apiKey":[]}],"x-amazon-apigateway-request-validator":"basic","x-amazon-apigateway-integration":{"type":"aws_proxy","credentials":{"Fn::ImportValue":"${self:custom.stacks.common-stack.name}-APIGWStandardRoleArn"},"uri":{"Fn::Join":["/",["arn:aws:apigateway:${self:provider.region}:lambda:path/2015-03-31/functions",{"Fn::GetAtt":"KickRequestToMicroCMSLambdaFunction.Arn"},"invocations"]]},"passthroughBehavior":"when_no_match","httpMethod":"POST","contentHandling":"CONVERT_TO_TEXT"},"parameters":[{"in":"query","name":"limit","description":"取得したい件数の上限を指定する。レスポンスサイズが5MBを超えるとエラーが発生する。","required":false,"schema":{"type":"integer"}},{"in":"query","name":"offset","description":"何件目から取得するかを指定する。","required":false,"schema":{"type":"integer"}},{"in":"query","name":"orders","description":"取得したいデータの並び替えを行う。\n参考 : https://document.microcms.io/content-api/get-list-contents#hf1af2f632c","required":false,"schema":{"type":"string"}},{"in":"query","name":"filters","description":"取得したいデータの条件を指定する。\n参考 : https://document.microcms.io/content-api/get-list-contents#hdebbdc8e86","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"成功時のレスポンス","headers":{"Access-Control-Allow-Origin":{"schema":{"type":"string"}},"Access-Control-Allow-Methods":{"schema":{"type":"string"}},"Access-Control-Allow-Headers":{"schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$schema":"http://json-schema.org/draft-07/schema#","definitions":{"MicroCMSContentId":{"description":"microCMS contentId\nhttps://document.microcms.io/manual/content-id-setting","properties":{"id":{"type":"string"}},"required":["id"],"type":"object"},"MicroCMSDate":{"description":"microCMS content common date","properties":{"createdAt":{"type":"string"},"publishedAt":{"type":"string"},"revisedAt":{"type":"string"},"updatedAt":{"type":"string"}},"required":["createdAt","publishedAt","revisedAt","updatedAt"],"type":"object"},"MicroCMSImage":{"description":"microCMS image","properties":{"height":{"type":"number"},"url":{"type":"string"},"width":{"type":"number"}},"required":["url"],"type":"object"}},"description":"microCMS list api Response","properties":{"contents":{"items":{"allOf":[{"description":"blogs APIのスキーマ","properties":{"author":{"items":{"type":"string"},"type":"array"},"categories":{"items":{"type":"string"},"type":"array"},"content":{"type":"string"},"description":{"type":"string"},"image":{"description":"microCMS image","properties":{"height":{"type":"number"},"url":{"type":"string"},"width":{"type":"number"}},"required":["url"],"type":"object"},"tags":{"items":{"properties":{"fieldId":{"enum":["tag"],"type":"string"},"tag":{"type":"string"}},"required":["fieldId","tag"],"type":"object"},"type":"array"},"title":{"type":"string"}},"required":["author","categories","content","description","title"],"type":"object"},{"description":"microCMS contentId\nhttps://document.microcms.io/manual/content-id-setting","properties":{"id":{"type":"string"}},"required":["id"],"type":"object"},{"description":"microCMS content common date","properties":{"createdAt":{"type":"string"},"publishedAt":{"type":"string"},"revisedAt":{"type":"string"},"updatedAt":{"type":"string"}},"required":["createdAt","publishedAt","revisedAt","updatedAt"],"type":"object"}]},"type":"array"},"limit":{"type":"number"},"offset":{"type":"number"},"totalCount":{"type":"number"}},"required":["contents","limit","offset","totalCount"],"type":"object"}}}},"500":{"description":"サーバ異常終了時のレスポンス","content":{"application/json":{"schema":{"$schema":"http://json-schema.org/draft-07/schema#","properties":{"message":{"type":"string"}},"required":["message"],"type":"object"}}}}}},"options":{"summary":"APIGateway上のCORS用設定","description":"APIGateway上のCORS用設定","tags":["blogs"],"responses":{"200":{"description":"200 response","headers":{"Access-Control-Allow-Origin":{"schema":{"type":"string"}},"Access-Control-Allow-Methods":{"schema":{"type":"string"}},"Access-Control-Allow-Headers":{"schema":{"type":"string"}}},"content":{}}},"x-amazon-apigateway-integration":{"responses":{"default":{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET'","method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,X-Custom-Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'","method.response.header.Access-Control-Allow-Origin":"'${file(${self:custom.paths.envFile}):export.ALLOW_ORIGIN}'"},"responseTemplates":{"application/json":""}}},"requestTemplates":{"application/json":"{statusCode:200}"},"passthroughBehavior":"when_no_match","contentHandling":"CONVERT_TO_TEXT","type":"mock"}}},"/v1/blogs/detail/{id}":{"get":{"summary":"ブログ記事の取得","description":"MicroCMSに登録されているブログ記事の取得","tags":["blogs"],"security":[{"lambdaAuthorizer":[]},{"apiKey":[]}],"x-amazon-apigateway-request-validator":"basic","x-amazon-apigateway-integration":{"type":"aws_proxy","credentials":{"Fn::ImportValue":"${self:custom.stacks.common-stack.name}-APIGWStandardRoleArn"},"uri":{"Fn::Join":["/",["arn:aws:apigateway:${self:provider.region}:lambda:path/2015-03-31/functions",{"Fn::GetAtt":"KickRequestToMicroCMSLambdaFunction.Arn"},"invocations"]]},"passthroughBehavior":"when_no_match","httpMethod":"POST","contentHandling":"CONVERT_TO_TEXT"},"parameters":[{"in":"path","name":"id","type":"string","required":true,"description":"BlogのIDを指定"}],"responses":{"200":{"description":"成功時のレスポンス","headers":{"Access-Control-Allow-Origin":{"schema":{"type":"string"}},"Access-Control-Allow-Methods":{"schema":{"type":"string"}},"Access-Control-Allow-Headers":{"schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$schema":"http://json-schema.org/draft-07/schema#","allOf":[{"description":"blogs APIのスキーマ","properties":{"author":{"items":{"type":"string"},"type":"array"},"categories":{"items":{"type":"string"},"type":"array"},"content":{"type":"string"},"description":{"type":"string"},"image":{"description":"microCMS image","properties":{"height":{"type":"number"},"url":{"type":"string"},"width":{"type":"number"}},"required":["url"],"type":"object"},"tags":{"items":{"properties":{"fieldId":{"enum":["tag"],"type":"string"},"tag":{"type":"string"}},"required":["fieldId","tag"],"type":"object"},"type":"array"},"title":{"type":"string"}},"required":["author","categories","content","description","title"],"type":"object"},{"description":"microCMS content common date","properties":{"createdAt":{"type":"string"},"publishedAt":{"type":"string"},"revisedAt":{"type":"string"},"updatedAt":{"type":"string"}},"required":["createdAt","publishedAt","revisedAt","updatedAt"],"type":"object"}],"definitions":{"MicroCMSDate":{"description":"microCMS content common date","properties":{"createdAt":{"type":"string"},"publishedAt":{"type":"string"},"revisedAt":{"type":"string"},"updatedAt":{"type":"string"}},"required":["createdAt","publishedAt","revisedAt","updatedAt"],"type":"object"},"MicroCMSImage":{"description":"microCMS image","properties":{"height":{"type":"number"},"url":{"type":"string"},"width":{"type":"number"}},"required":["url"],"type":"object"}}}}}},"500":{"description":"サーバ異常終了時のレスポンス","content":{"application/json":{"schema":{"$schema":"http://json-schema.org/draft-07/schema#","properties":{"message":{"type":"string"}},"required":["message"],"type":"object"}}}}}},"options":{"summary":"APIGateway上のCORS用設定","description":"APIGateway上のCORS用設定","tags":["blogs"],"responses":{"200":{"description":"200 response","headers":{"Access-Control-Allow-Origin":{"schema":{"type":"string"}},"Access-Control-Allow-Methods":{"schema":{"type":"string"}},"Access-Control-Allow-Headers":{"schema":{"type":"string"}}},"content":{}}},"x-amazon-apigateway-integration":{"responses":{"default":{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET'","method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,X-Custom-Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'","method.response.header.Access-Control-Allow-Origin":"'${file(${self:custom.paths.envFile}):export.ALLOW_ORIGIN}'"},"responseTemplates":{"application/json":""}}},"requestTemplates":{"application/json":"{statusCode:200}"},"passthroughBehavior":"when_no_match","contentHandling":"CONVERT_TO_TEXT","type":"mock"}}}},"components":{"schemas":{"MusicsCmsWebhookRequest":{"$schema":"http://json-schema.org/draft-07/schema#","definitions":{"MicroCMSContentId":{"description":"microCMS contentId\nhttps://document.microcms.io/manual/content-id-setting","properties":{"id":{"type":"string"}},"required":["id"],"type":"object"},"MicroCMSDate":{"description":"microCMS content common date","properties":{"createdAt":{"type":"string"},"publishedAt":{"type":"string"},"revisedAt":{"type":"string"},"updatedAt":{"type":"string"}},"required":["createdAt","publishedAt","revisedAt","updatedAt"],"type":"object"}},"properties":{"api":{"type":"string"},"contents":{"anyOf":[{"properties":{"new":{"anyOf":[{"properties":{"draftKey":{"type":["null","string"]},"draftValue":{"anyOf":[{"allOf":[{"description":"musics APIのスキーマ","properties":{"rawIframe":{"type":"string"},"scApiUrl":{"type":"string"},"scArtistHref":{"type":"string"},"scArtistName":{"type":"string"},"scSongDescription":{"type":"string"},"scSongHref":{"type":"string"},"scSongTitle":{"type":"string"},"scSrc":{"type":"string"},"scThumbnailSrc":{"type":"string"},"songCategories":{"items":{"properties":{"fieldId":{"enum":["songCategory"],"type":"string"},"songCategory":{"type":"string"}},"required":["fieldId","songCategory"],"type":"object"},"type":"array"}},"required":["rawIframe"],"type":"object"},{"description":"microCMS contentId\nhttps://document.microcms.io/manual/content-id-setting","properties":{"id":{"type":"string"}},"required":["id"],"type":"object"},{"description":"microCMS content common date","properties":{"createdAt":{"type":"string"},"publishedAt":{"type":"string"},"revisedAt":{"type":"string"},"updatedAt":{"type":"string"}},"required":["createdAt","publishedAt","revisedAt","updatedAt"],"type":"object"}]},{"type":"null"}]},"id":{"type":"string"},"publishValue":{"anyOf":[{"allOf":[{"description":"musics APIのスキーマ","properties":{"rawIframe":{"type":"string"},"scApiUrl":{"type":"string"},"scArtistHref":{"type":"string"},"scArtistName":{"type":"string"},"scSongDescription":{"type":"string"},"scSongHref":{"type":"string"},"scSongTitle":{"type":"string"},"scSrc":{"type":"string"},"scThumbnailSrc":{"type":"string"},"songCategories":{"items":{"properties":{"fieldId":{"enum":["songCategory"],"type":"string"},"songCategory":{"type":"string"}},"required":["fieldId","songCategory"],"type":"object"},"type":"array"}},"required":["rawIframe"],"type":"object"},{"description":"microCMS contentId\nhttps://document.microcms.io/manual/content-id-setting","properties":{"id":{"type":"string"}},"required":["id"],"type":"object"},{"description":"microCMS content common date","properties":{"createdAt":{"type":"string"},"publishedAt":{"type":"string"},"revisedAt":{"type":"string"},"updatedAt":{"type":"string"}},"required":["createdAt","publishedAt","revisedAt","updatedAt"],"type":"object"}]},{"type":"null"}]},"status":{"items":{"enum":["DRAFT","PUBLISH"],"type":"string"},"type":"array"}},"required":["draftKey","draftValue","id","publishValue","status"],"type":"object"},{"type":"null"}]},"old":{"anyOf":[{"properties":{"draftKey":{"type":["null","string"]},"draftValue":{"anyOf":[{"allOf":[{"description":"musics APIのスキーマ","properties":{"rawIframe":{"type":"string"},"scApiUrl":{"type":"string"},"scArtistHref":{"type":"string"},"scArtistName":{"type":"string"},"scSongDescription":{"type":"string"},"scSongHref":{"type":"string"},"scSongTitle":{"type":"string"},"scSrc":{"type":"string"},"scThumbnailSrc":{"type":"string"},"songCategories":{"items":{"properties":{"fieldId":{"enum":["songCategory"],"type":"string"},"songCategory":{"type":"string"}},"required":["fieldId","songCategory"],"type":"object"},"type":"array"}},"required":["rawIframe"],"type":"object"},{"description":"microCMS contentId\nhttps://document.microcms.io/manual/content-id-setting","properties":{"id":{"type":"string"}},"required":["id"],"type":"object"},{"description":"microCMS content common date","properties":{"createdAt":{"type":"string"},"publishedAt":{"type":"string"},"revisedAt":{"type":"string"},"updatedAt":{"type":"string"}},"required":["createdAt","publishedAt","revisedAt","updatedAt"],"type":"object"}]},{"type":"null"}]},"id":{"type":"string"},"publishValue":{"anyOf":[{"allOf":[{"description":"musics APIのスキーマ","properties":{"rawIframe":{"type":"string"},"scApiUrl":{"type":"string"},"scArtistHref":{"type":"string"},"scArtistName":{"type":"string"},"scSongDescription":{"type":"string"},"scSongHref":{"type":"string"},"scSongTitle":{"type":"string"},"scSrc":{"type":"string"},"scThumbnailSrc":{"type":"string"},"songCategories":{"items":{"properties":{"fieldId":{"enum":["songCategory"],"type":"string"},"songCategory":{"type":"string"}},"required":["fieldId","songCategory"],"type":"object"},"type":"array"}},"required":["rawIframe"],"type":"object"},{"description":"microCMS contentId\nhttps://document.microcms.io/manual/content-id-setting","properties":{"id":{"type":"string"}},"required":["id"],"type":"object"},{"description":"microCMS content common date","properties":{"createdAt":{"type":"string"},"publishedAt":{"type":"string"},"revisedAt":{"type":"string"},"updatedAt":{"type":"string"}},"required":["createdAt","publishedAt","revisedAt","updatedAt"],"type":"object"}]},{"type":"null"}]},"status":{"items":{"enum":["DRAFT","PUBLISH"],"type":"string"},"type":"array"}},"required":["draftKey","draftValue","id","publishValue","status"],"type":"object"},{"type":"null"}]}},"required":["new","old"],"type":"object"},{"type":"null"}]},"id":{"type":["null","string"]},"service":{"type":"string"},"type":{"type":"string"}},"required":["api","contents","id","service","type"],"type":"object"},"MusicsSongCategories":{"$ref":"./components/schemas/MusicsSongCategories.json"},"StandardResponse":{"$schema":"http://json-schema.org/draft-07/schema#","properties":{"message":{"type":"string"}},"required":["message"],"type":"object"},"BlogsResultList":{"$schema":"http://json-schema.org/draft-07/schema#","definitions":{"MicroCMSContentId":{"description":"microCMS contentId\nhttps://document.microcms.io/manual/content-id-setting","properties":{"id":{"type":"string"}},"required":["id"],"type":"object"},"MicroCMSDate":{"description":"microCMS content common date","properties":{"createdAt":{"type":"string"},"publishedAt":{"type":"string"},"revisedAt":{"type":"string"},"updatedAt":{"type":"string"}},"required":["createdAt","publishedAt","revisedAt","updatedAt"],"type":"object"},"MicroCMSImage":{"description":"microCMS image","properties":{"height":{"type":"number"},"url":{"type":"string"},"width":{"type":"number"}},"required":["url"],"type":"object"}},"description":"microCMS list api Response","properties":{"contents":{"items":{"allOf":[{"description":"blogs APIのスキーマ","properties":{"author":{"items":{"type":"string"},"type":"array"},"categories":{"items":{"type":"string"},"type":"array"},"content":{"type":"string"},"description":{"type":"string"},"image":{"description":"microCMS image","properties":{"height":{"type":"number"},"url":{"type":"string"},"width":{"type":"number"}},"required":["url"],"type":"object"},"tags":{"items":{"properties":{"fieldId":{"enum":["tag"],"type":"string"},"tag":{"type":"string"}},"required":["fieldId","tag"],"type":"object"},"type":"array"},"title":{"type":"string"}},"required":["author","categories","content","description","title"],"type":"object"},{"description":"microCMS contentId\nhttps://document.microcms.io/manual/content-id-setting","properties":{"id":{"type":"string"}},"required":["id"],"type":"object"},{"description":"microCMS content common date","properties":{"createdAt":{"type":"string"},"publishedAt":{"type":"string"},"revisedAt":{"type":"string"},"updatedAt":{"type":"string"}},"required":["createdAt","publishedAt","revisedAt","updatedAt"],"type":"object"}]},"type":"array"},"limit":{"type":"number"},"offset":{"type":"number"},"totalCount":{"type":"number"}},"required":["contents","limit","offset","totalCount"],"type":"object"},"BlogsResult":{"$schema":"http://json-schema.org/draft-07/schema#","allOf":[{"description":"blogs APIのスキーマ","properties":{"author":{"items":{"type":"string"},"type":"array"},"categories":{"items":{"type":"string"},"type":"array"},"content":{"type":"string"},"description":{"type":"string"},"image":{"description":"microCMS image","properties":{"height":{"type":"number"},"url":{"type":"string"},"width":{"type":"number"}},"required":["url"],"type":"object"},"tags":{"items":{"properties":{"fieldId":{"enum":["tag"],"type":"string"},"tag":{"type":"string"}},"required":["fieldId","tag"],"type":"object"},"type":"array"},"title":{"type":"string"}},"required":["author","categories","content","description","title"],"type":"object"},{"description":"microCMS content common date","properties":{"createdAt":{"type":"string"},"publishedAt":{"type":"string"},"revisedAt":{"type":"string"},"updatedAt":{"type":"string"}},"required":["createdAt","publishedAt","revisedAt","updatedAt"],"type":"object"}],"definitions":{"MicroCMSDate":{"description":"microCMS content common date","properties":{"createdAt":{"type":"string"},"publishedAt":{"type":"string"},"revisedAt":{"type":"string"},"updatedAt":{"type":"string"}},"required":["createdAt","publishedAt","revisedAt","updatedAt"],"type":"object"},"MicroCMSImage":{"description":"microCMS image","properties":{"height":{"type":"number"},"url":{"type":"string"},"width":{"type":"number"}},"required":["url"],"type":"object"}}},"MusicsResultList":{"$schema":"http://json-schema.org/draft-07/schema#","definitions":{"MicroCMSContentId":{"description":"microCMS contentId\nhttps://document.microcms.io/manual/content-id-setting","properties":{"id":{"type":"string"}},"required":["id"],"type":"object"},"MicroCMSDate":{"description":"microCMS content common date","properties":{"createdAt":{"type":"string"},"publishedAt":{"type":"string"},"revisedAt":{"type":"string"},"updatedAt":{"type":"string"}},"required":["createdAt","publishedAt","revisedAt","updatedAt"],"type":"object"}},"description":"microCMS list api Response","properties":{"contents":{"items":{"allOf":[{"description":"musics APIのスキーマ","properties":{"rawIframe":{"type":"string"},"scApiUrl":{"type":"string"},"scArtistHref":{"type":"string"},"scArtistName":{"type":"string"},"scSongDescription":{"type":"string"},"scSongHref":{"type":"string"},"scSongTitle":{"type":"string"},"scSrc":{"type":"string"},"scThumbnailSrc":{"type":"string"},"songCategories":{"items":{"properties":{"fieldId":{"enum":["songCategory"],"type":"string"},"songCategory":{"type":"string"}},"required":["fieldId","songCategory"],"type":"object"},"type":"array"}},"required":["rawIframe"],"type":"object"},{"description":"microCMS contentId\nhttps://document.microcms.io/manual/content-id-setting","properties":{"id":{"type":"string"}},"required":["id"],"type":"object"},{"description":"microCMS content common date","properties":{"createdAt":{"type":"string"},"publishedAt":{"type":"string"},"revisedAt":{"type":"string"},"updatedAt":{"type":"string"}},"required":["createdAt","publishedAt","revisedAt","updatedAt"],"type":"object"}]},"type":"array"},"limit":{"type":"number"},"offset":{"type":"number"},"totalCount":{"type":"number"}},"required":["contents","limit","offset","totalCount"],"type":"object"},"MusicsResult":{"$schema":"http://json-schema.org/draft-07/schema#","allOf":[{"description":"musics APIのスキーマ","properties":{"rawIframe":{"type":"string"},"scApiUrl":{"type":"string"},"scArtistHref":{"type":"string"},"scArtistName":{"type":"string"},"scSongDescription":{"type":"string"},"scSongHref":{"type":"string"},"scSongTitle":{"type":"string"},"scSrc":{"type":"string"},"scThumbnailSrc":{"type":"string"},"songCategories":{"items":{"properties":{"fieldId":{"enum":["songCategory"],"type":"string"},"songCategory":{"type":"string"}},"required":["fieldId","songCategory"],"type":"object"},"type":"array"}},"required":["rawIframe"],"type":"object"},{"description":"microCMS content common date","properties":{"createdAt":{"type":"string"},"publishedAt":{"type":"string"},"revisedAt":{"type":"string"},"updatedAt":{"type":"string"}},"required":["createdAt","publishedAt","revisedAt","updatedAt"],"type":"object"}],"definitions":{"MicroCMSDate":{"description":"microCMS content common date","properties":{"createdAt":{"type":"string"},"publishedAt":{"type":"string"},"revisedAt":{"type":"string"},"updatedAt":{"type":"string"}},"required":["createdAt","publishedAt","revisedAt","updatedAt"],"type":"object"}}},"MusicsSchema":{"$schema":"http://json-schema.org/draft-07/schema#","description":"musics APIのスキーマ","properties":{"rawIframe":{"type":"string"},"scApiUrl":{"type":"string"},"scArtistHref":{"type":"string"},"scArtistName":{"type":"string"},"scSongDescription":{"type":"string"},"scSongHref":{"type":"string"},"scSongTitle":{"type":"string"},"scSrc":{"type":"string"},"scThumbnailSrc":{"type":"string"},"songCategories":{"items":{"properties":{"fieldId":{"enum":["songCategory"],"type":"string"},"songCategory":{"type":"string"}},"required":["fieldId","songCategory"],"type":"object"},"type":"array"}},"required":["rawIframe"],"type":"object"},"BlogsSchema":{"$schema":"http://json-schema.org/draft-07/schema#","definitions":{"MicroCMSImage":{"description":"microCMS image","properties":{"height":{"type":"number"},"url":{"type":"string"},"width":{"type":"number"}},"required":["url"],"type":"object"}},"description":"blogs APIのスキーマ","properties":{"author":{"items":{"type":"string"},"type":"array"},"categories":{"items":{"type":"string"},"type":"array"},"content":{"type":"string"},"description":{"type":"string"},"image":{"description":"microCMS image","properties":{"height":{"type":"number"},"url":{"type":"string"},"width":{"type":"number"}},"required":["url"],"type":"object"},"tags":{"items":{"properties":{"fieldId":{"enum":["tag"],"type":"string"},"tag":{"type":"string"}},"required":["fieldId","tag"],"type":"object"},"type":"array"},"title":{"type":"string"}},"required":["author","categories","content","description","title"],"type":"object"},"MicroCMSQueries":{"$schema":"http://json-schema.org/draft-07/schema#","description":"microCMS queries\nhttps://document.microcms.io/content-api/get-list-contents#h9ce528688c\nhttps://document.microcms.io/content-api/get-content#h9ce528688c","properties":{"depth":{"enum":[1,2,3],"type":"number"},"draftKey":{"type":"string"},"fields":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"string"}]},"filters":{"type":"string"},"ids":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"string"}]},"limit":{"type":"number"},"offset":{"type":"number"},"orders":{"type":"string"},"q":{"type":"string"}},"type":"object"}},"securitySchemes":{"apiKey":{"type":"apiKey","name":"x-api-key","in":"header","x-amazon-apigateway-api-key-source":"header"},"lambdaAuthorizer":{"type":"apiKey","name":"X-Custom-Authorization","in":"header","x-amazon-apigateway-authtype":"custom","x-amazon-apigateway-authorizer":{"type":"request","identitySource":"method.request.header.X-Custom-Authorization","authorizerUri":{"Fn::Join":["/",["arn:aws:apigateway:${self:provider.region}:lambda:path/2015-03-31/functions",{"Fn::GetAtt":"LambdaAuthorizerLambdaFunction.Arn"},"invocations"]]},"authorizerResultTtlInSeconds":0}}}}}